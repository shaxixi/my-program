[toc]

# 基础指令

## ls

> 语法：`#ls`
>
> 含义：列出当前工作目录下的所有文件/文件夹的名称。

> 语法：`#ls 路径`
>
> 含义：列出指定路径下的所有文件/文件夹的名称

> 语法：`#ls 选项 路径`
>
> 含义： 在列出指定路径下的文件/文件夹的名称，并以指定的格式进行显示。
>
> 选项：
>
> * `-l`	表示list,表示以详细列表的形式进行展示 
>
> * `-a`    表示显示所有的文件/文件夹（包含了隐藏文件/文件夹）
> * `-h`    表示在显示文档大小的时候以可读性较高的形式显示，自动将默认单位转化成合理的单位。

* 路径

  * 相对路径：相对首先得有一个参照物（一般就是当前的工作路径）；

    ​					在相对路径中通常会用到2个符号 "./" [表示当前目录下] ；"../" [上一级目录下] ；

  * 绝对路径： 不需要参照物，直接从根 "/" 开始寻找对应路径；

* ![image-20201030084832770](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201030084832770.png)
  * 第一列第一个字符表示文档的类型。 "-" 表示改行对应的文档类型为**文件**， "d" 表示文档类型为**文件夹**
  * 最后一列。在Linux中**隐藏文档**一般都是以 "." 开头
* ![image-20201030092124259](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201030092124259.png)
  * 蓝色的名称——文件夹
  * 黑色的名称——文件
  * 绿色的名称——其权限为拥有所有权限（当所有者有执行权限时，文档会变成绿色）

## pwd

> 语法：`#pwd`
>
> 含义: 打印当前工作目录（显示文档的完整路径）

## cd

> 语法：`#cd 路径` 
>
> 含义：切换目录

* 路径可以使用绝对路径或相对路径
* 在Linux中有一个特殊的路径 "~" 表示当前用户的家目录

## mkdir

> 语法：`#mkdir 路径`
>
> 含义： 创建目录

> 语法：`#mkdir -p 路径`
>
> 含义： 一次性创建**多层不存在**的目录

> 语法：`#mkdir 路径1 路径2 路径3 ……`
>
> 含义：表示一次性创建**多个目录**	

* 路径可以是直接的文件名也可以是路径

## touch

> 语法：`#touch 文件路径`
>
> 含义：创建文件

> 语法：`#touch 文件路径1 文件路径2 ……`
>
> 含义：创建多个文件

* 路径可以是直接的文件名也可以是路径

## cp

> 语法：`#cp 路径(从哪来)  路径(到哪去)`
>
> 含义：复制一个**文件**

> 语法：`#cp -r 路径(从哪来) 路径(到哪去)`
>
> 含义：复制一个**文件夹**
>
> 选项：
>
> * `-r`	表示递归

* Linux在复制的过程中是可以重新对新位置的文件进行重新命名的，但是如果不是必须的需要，则建议保持前后名称一致

## mv

> 语法：`#mv 路径(从哪来) 路径(到哪去)`
>
> 含义：
>
> * 移动一个文件：文件名不变，目录位置改变
> * 重命名一个文件：文件名改变，目录位置不变

> 语法：`#mv 路径(从哪来) 路径(到哪去)`
>
> 含义：**（这里注意与cp区分，无 `-r`）**
>
> * 移动一个文件夹：文件名不变，目录位置改变
> * 重命名一个文件夹：文件名改变，目录位置不变

## rm 

> 语法：`#rm 选项 路径`
>
> 含义：删除文件/删除文件夹
>
> 选项：
>
> * `-f`	强制删除，不提示是否删除
> * `-r`    表示递归（用于文件夹）

> 语法：`#rm 选项 路径1 路径2 ……`
>
> 含义：删除多个文档

* `*`称之为通配符，意思表示任意的字符，如：`linux*`表示只要是文件以linux开头，后续字符则不管

## cat

> 语法：`#cat 文件路径`
>
> 含义：cat直接打开一个文件

> 语法：`#cat 待合并的文件路径1 待合并的文件路径2 …… 文件路径n > 合并之后的文件路径`
>
> 含义：对文件进行合并

* 合并文件需要配合输出重定向使用: `>` `>>`

## vim 

> 语法：`#vim 文件路径`
>
> 含义：打开一个文件

* vim打开的文件可以存在，也可以不存在
* 退出打开的文件可以用 `:q`  + `Enter键`

## 输出重定向

> 语法: `#正常执行的指令 >/>> 文件路径`
>
> 含义：
>
> * `>` 	覆盖输出，会覆盖掉原先的文件内容
> * `>>`	追加输出，不会覆盖原始文件内容，会在原始内容末尾继续添加

* 文件可以不存在，不存在则新建
* 一般命令的输出都会显示在终端中，有些时候需要将一些命令的执行结果想要保存到文件中进行后续的分析/统计，则在这个时候需要使用到的输出重定向技术

# 进阶指令

## df -h

> 语法：`#df -h`
>
> 含义：查看磁盘空间
>
> 选项：
>
> * `-h`	表示以可读性较高的形式展示大小

* ![image-20201030102401581](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201030102401581.png)
  * Filesystem——磁盘分区
  * Mounted on——挂载点，如果想访问Filesystem 就访问Mounted on
  * 第一行是硬盘；中间两行是系统里面的磁盘；最后一行是光盘

## free -m

> 语法：`#free -m`
>
> 含义：查看内存的使用情况
>
> 选项：
>
> * `-m`	表示以 mb 为单位查看

* ![image-20201030103123124](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201030103123124.png)
  * `-/+ buffers/cache`  : 已用内存	剩余的真实内存[^注释]
  * `swap` : 将硬盘空间充当临时内存，当系统真实内存不够用的时候可以临时使用磁盘空间来充当内存
  * `buffers` : 输出的分配内存且还没用
  * `cached` : 输入的分配内存且还没用

[^注释]:第一行的`free` +`buffers` +`cached`

## head -n

> 语法：`#head -n 文件路径`
>
> 含义：查看文件内容前 n 行，默认为10行

* n 表示数字；

## tail 

> 语法：`#tail -n 文件的路径`
>
> 含义：查看一个文件的末 n 行，默认10行

> 语法：`#tail -f 文件路径`
>
> 含义：查看一个文件的动态变化内容【变化的内容不能是用户手动增加的】
>
> ​			该命令一般用于查看系统日志比较多

* n 表示数字

## less

> 语法：`#less 需要查看的文件路径`
>
> 含义：查看文件，以较少的内容进行输出

* `q` ：是退出键
* `数字` + `回车键` ：是接下来还看几行
* `空格键` ：翻页
* `向下箭头` ：往下一行一行的翻

## wc

> 语法：`#wc -lwc 需要统计的文件路径`
>
> 含义：统计文件内容信息，格式：行数 单词数 字节数
>
> 选项：
>
> * `-l`：表示lines，行数
> * `-w`:表示words，单词数（依照空格来判断单词数量）
> * `-c`:表示bytes，字节数

## data

> 语法：`#data`
>
> 含义：输出的形式 `年 月 日 星期 时：分：秒`

> 语法：`#data +%F` == `#data "+%Y-%m-%d"`
>
> 含义：输出的形式 `年-月-日`

> 语法：`#data "+%F %T"`[^注释1] == `#data "+%Y-%m-%d %H:%M:%S"`[^注释2]
>
> 含义：输出的形式`年-月-日 时：分：秒`
>
> * `" "`:表示让”年月日与十分秒“成为一个不可分割的整体

> 语法：`#data -d "-1day" "+%Y-%m-%d %H:%M:%S"`
>
> 含义：获取之前或者之后的某个时间
>
> *  符号的可选值： `+`：之后； `-`：之前
> * 单位的可选值：`day` :天；`month` ：月；`year`：年；

[^注释1]:`%F` 年 月 日	`%T` 时 分 秒
[^注释2]:`%Y` 年	`%m` 月	`%d` 日	`%H` 时	`%M` 时	`%S` 秒

## cal

> 语法：`#cal` == `#cal -1`
>
> 含义：直接输出当前月份的日历

> 语法：`#cal -3`
>
> 含义：表示输出上一个月+本月+下个月的日历

> 语法：`#cal -y 年份`
>
> 含义：表示输出某一个年份的日历

* 

## clear 或者 ctrl+L

> 语法：`clear` 或者`ctrl+L`
>
> 含义：清除当前页面内容（即将页面拉到最低端，隐藏上面的内容）

## 管道 |

> 语法：不能单独使用，需要配合指令一起使用
>
> 含义：管道一般可以用于“过滤”，“特殊”，“扩展处理”，主要是辅助作用

* 过滤 ：如 `#ls / |grep y` 通过管道查询出根目录下包含“y”字母的文档名称
  * 前面的命令有个输出，后面需要先输入，然后再过滤，最后再输出，通俗的讲就是管道前面的输出就是后面指令的输入。
  * `grep`指令：主要用于过滤
* 特殊用法：如 `#cat 路径|less` ==`#less 路径`
* 扩展处理：如 `#ls / |wc -l`

# 高级指令

## hostname

> 语法：`#hostname` 
>
> 含义：表示输出完整的主机名

> 语法：`#hostname -f`
>
> 含义：表示输出当前主机名中的FQDN（全限定域名）

## id

> 语法：`#id`
>
> 含义：查看当前执行该命令的用户的基本信息 `用户id` `用户组id` `附加组id` 

> 语法：`#id 用户名`
>
> 含义：查看指定用户的基本信息 `用户id` `用户组id` `附加组id` 

* 验证用户信息：通过文件`/etc/passwd`
* 验证用户组信息：通过文件`/etc/group`

## whoami

> 语法：`#whoami`
>
> 含义：显示当前登入的用户名
>
> ​			一般用于shell脚本，用于获取当前操作的用户名方便记录日志

## ps -ef

> 语法：`#ps -ef`
>
> 含义：查看服务器的进程信息
>
> 选项：
>
> * `-e` ：等价于`-A`,表示列出全部进程
> * `-f` : 显示全部的列 （显示全字段）

* ![image-20201030162308610](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201030162308610.png)
  * `UID`	该进程执行的id用户
  * `PID`    进程 id
  * `PPID`  该进程的父级进程 id ，如果一个程序的父级进程找不到，该程序的进程称之为僵尸进程
  * `C`        Cpu的占用率，其形式是百分数
  * `STIME`进程的启动时间
  * `TTY`    终端设备，发起该进程的设备识别符号，如果显示 "?" 则表示该进程并不是由终端设备发起
  * `TIME`  进程的执行时间
  * `CMD`    该进程的名称或者对应的路径 
* 在ps的结果中过滤出想要查看的进程状态：`#ps -ef | grep 进程名称`

## top

> 语法：`#top`
>
> 含义：查看服务器进程占用的资源（动态显示）

* `q键`	退出
* 快捷键
  * `M` 表示将结果按照内存（MEM） 从高到低进行降序排列
  * `P` 表示将结果按照CPU使用率从高到低进行降序排列
  * `1` 表示服务器拥有多个CPU的时候可以用 `1` 快捷键来切换是否展示显示各个CPU的详细信息
* `PR查询网站` 可以根据域名查出对应网站的网页级别
* ![image-20201030164927974](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201030164927974.png)
  * `PID`		进程id
  * `USER`      该进程对应的用户
  * `PR`          优先级
  * `VIRT`      虚拟内存；申请 xMB，实际使用了 yMB，此时的虚拟内存就是 xMB
  * `RES`        常驻内存；申请 xMB，实际使用了 yMB，此时的虚拟内存就是 yMB
  * `SHR`        共享内存
    * 计算一个进程实际使用的内存 = 常驻内存 - 共享内存
  * `S`            进程的状态（`S` 睡眠        `R` 运行）
  * `%PCU`      CPU的占用百分比
  * `%MEM`      内存的占用百分比
  * `TIME+`    执行的时间
  * `COMMAND`进程的名称或者路径

## du -sh

> 语法：`#du -sh 目录路径`
>
> 含义：查看真实目录大小
>
> 选项：
>
> * `-s`： 只显示汇总的大小
> * `-h`： 表示以高可读性的形式进行显示

## find

> 语法：`#find 路径范围 选项 选项的值`
>
> 选项：
>
> * `-name`: 按照文档名称进行搜索
> * `-type`: 按照文档类型进行搜索

* 文档名称支持模糊搜索 `*`；
* 文档类型 `-` 表示文件（在使用find的时候需要用`f` 来替换），`d` 表示文件夹；

## service

> 语法：`#service 服务名 start / stop / restart`
>
> 含义：控制软件的服务启动 / 停止 / 重启

* 用`ps`命令来检查服务是否启动

## kill

> 语法：`#kill 进程PID` 
>
> 含义：杀死进程，僵尸进程或者因某些原因需要关闭的某些进程（进程PID）

* 语法需要配合`ps`一起使用

* 通过`ppid`需要找到最源头的`pid`

* > 语法：`#killall 进程名称`
  >
  > 含义：杀死进程，僵尸进程或者因某些原因需要关闭的某些进程（进程名称）

## ifconfig

> 语法：`#ifconfig`
>
> 含义：查看网卡信息

* ![image-20201031093635644](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201031093635644.png)
  * `eth0` 表示Linux中的一个网卡
  * `lo` 表示本地回还网卡
  * `inet addr` 就是网卡的IP地址

## reboot

> 语法：`#reboot`
>
> 含义：重启

> 语法：`#reboot -w`
>
> 含义：模拟重启，但不重启（只写关机与开机的日志信息）

## shutdown

> 语法：`#shutdown -h now “关机提示”`  ==  `#shutdown -h 15:25 “关机提示”`
>
> 含义：关机

* 取消关机
  * `CTRL + c`
  * `#shutdown -c`
* 其他关机命令
  * `#init 0`
  * `#halt 0`
  * `#poweroff`

## uptime

> 语法：`#uptime`
>
> 含义：从计算机开机到目前为止的持续时间

## uname

> 语法：`#uname`
>
> 含义：获取操作系统的类型

> 语法：`#uname -a`
>
> 含义：获取全部的系统信息

* ![image-20201102050519370](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201102050519370.png)
  * 类型，全部主机名，内核版本，发布时间，开源计划

## netstat

> 语法：`#netstat -tnlp`
>
> 含义：查看网络连接状态
>
> 选项：
>
> * `-t` : 表示只列出`tcp`协议的连接
> * `-n` : 表示将地址从字母组合转化成IP地址，将协议转化成端口号来显示
> * `-l` : 表示过滤出`state`（状态）列中其值为`LISTEN`（监听）的连接
> * `-p` : 表示显示发起连接的进程`pid` 和进程名称

* ![image-20201102051329724](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201102051329724.png)

## man

> 语法：`#man 命令`
>
> 含义：包含了Linux的全部命令手册

* 退出：`q键`
[toc]

# 网络基础

## 网络分类

* 局域网（LAN）：范围在几百米到十几公里内办公公楼群或校园内的计算机相互连接所构成的计算机网络
* 城域网（MAN）：如覆盖一个城
* 广域网（WAN）：跨界很大的物理范围，如一个国家
* 网络可以按照所有者分为**公网，私网**是两种internet的接入方式，公网接入方式：上网的计算机得到的IP地址是Internet上的非保留地址，公网的计算机和Internet上的其他计算机可随意互相访问。私网则反之。

## IP地址

* 计算机之间访问的一种协议
* 公有地址由Inter NIC负责，这些IP地址分配给注册并向Inter NIC 提出申请的组织机构。通过它直接访问因特网
  * A类 1.0.0.0--127.255.255.255
  * B类 128.0.0.0--191.255.255.255
  * C类 192.0.0.0--233.255.255.255
* 私有地址属于非注册地址，专门为组织机构内部使用
  * A类 10.0.0.0--10.255.255.255
  * B类 172.16.0.0--172.31.255.255
  * C类 192.168.0.0--192.168.255.255

![image-20201102091206159](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201102091206159.png)

## 网卡

* 作用：计算机之间数据的封装和解封

* MAC地址：网卡的物理地址，网卡设备的编号，默认情况全球唯一

* vs IP地址：

  * 长度不同：IP地址为32位，十进制；MAC地址为48位，十六进制

  * 分类依据不同：IP地址动态的，MAC地址在出厂商时就将MAC地址嵌入网卡中
  * 网络寻址地址不同，IP 地址基于第三层工作（网络层），MAC地址是第二层（数据链路层）

## 网线

* 双绞线
* 铜轴电缆
* 光纤

## **？**交换机

* 开关，提供独享的电信号通路

## **？**路由器

* 用于连接多个逻辑上分开，相对独立的网络

##  拓扑结构图

* 其目的在于研究这些点，线之间的联系
* 常见的拓扑结构图

![image-20201102094623818](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201102094623818.png)

# 网络相关指令

## ping

>语法：`#ping 主机地址(ip地址，主机名，域名等)`
>
>含义：检测当前主机与目标主机之间的连通性（有的服务器禁Ping,不是百分百准确）
* 可跨平台使用，与windows的区别在于：Linux是默认发送四个数据包，windows是全部发送。

## netstat

> 语法：`#netstat -tnlp`
>
> 含义：表示查看网络的连接信息
>
> 选项：
>
> * `-t`: tcp协议
> * `-n`： 将字母转化成数字
> * `-l`： 列出状态为监听
> * `-p`： 显示进程相关信息

> 语法：`#netstat -an`
>
> 含义：查看网络的全部连接信息
>
> 选项：
>
> * `-a`: 表示全部
> * `-n`： 将字母转化为数字

* tcp是用户打开浏览器；udp是用户打开客户端；

## traceroute

> 语法：`#traceroute 主机地址(ip地址，主机名，域名等)`
>
> 含义：查找当前主机与目标主机之间左右的网关（路由器），会给沿途各个路由器发送`icmp`数据包，路由器可能会不给响应。

* Windows下是`#tracert 主机地址`

* 在线工具网址：`tool.chinaz.com`

## arp

> 语法：`#arp -a`
>
> 含义：当一个主机发送数据时，首先查看本机MAC地址缓存中有没有目标主机的MAC地址，如果有就是用缓存中的结果；如果没有，ARP协议就会发出一个广播包，广播包要求查询目标主机IP地址对应的MAC地址，拥有该IP地址的主机会发出回应，回应中包括了目标主机的MAC地址，这样发送方就得到了目标主机的MAC地址。如果目标主机不在本地子网（局域网）中，则ARP解析到的MAC地址是默认网关（路由器地址）的MAC地址。

> 语法：`#arp -d 主机地址`
>
> 含义：删掉本机MAC地址缓存中目标主机的MAC地址

* Windows下同样可使用

## tcpdump（了解）

> 语法：`#tcpdump 协议 port 端口`
>
> ​			`#tcpdump 协议 port 端口号 host 地址` 
>
> 含义：抓包，抓取数据包

* ![image-20201104165920783](C:\Users\傻兮兮乎乎\AppData\Roaming\Typora\typora-user-images\image-20201104165920783.png)
  * `00：09：17.xxxxxx `: 监听数据的时分秒
  * `IP`： 使用的协议类型
  * `1.92.168.21.1`： 数据包的来自方向
  * `\>`： 数据的流向
  * `192.168.21.136`： 数据包的到达方向

## 